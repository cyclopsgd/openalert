# Kubernetes Secrets for OpenAlert
#
# IMPORTANT: This is a template file. Do NOT commit actual secrets to version control.
#
# Instructions:
# 1. Copy this file to secrets.yaml
# 2. Replace all placeholder values with actual base64-encoded secrets
# 3. Encode secrets using: echo -n 'your-secret-value' | base64
# 4. Apply: kubectl apply -f secrets.yaml
# 5. Add secrets.yaml to .gitignore
#
# Example encoding:
# echo -n 'my-super-secret-jwt-key' | base64
# Output: bXktc3VwZXItc2VjcmV0LWp3dC1rZXk=

apiVersion: v1
kind: Secret
metadata:
  name: openalert-secrets
  namespace: openalert
  labels:
    app: openalert
type: Opaque
data:
  # Database Credentials
  # echo -n 'your-postgres-user' | base64
  POSTGRES_USER: b3BlbmFsZXJ0

  # echo -n 'your-secure-postgres-password' | base64
  POSTGRES_PASSWORD: Y2hhbmdlLW1lLWluLXByb2R1Y3Rpb24=

  # Database URL
  # Format: postgresql://user:password@host:port/database
  # echo -n 'postgresql://openalert:password@postgres-service:5432/openalert' | base64
  DATABASE_URL: cG9zdGdyZXNxbDovL29wZW5hbGVydDpwYXNzd29yZEBwb3N0Z3Jlcy1zZXJ2aWNlOjU0MzIvb3BlbmFsZXJ0

  # Redis URL
  # echo -n 'redis://redis-service:6379' | base64
  REDIS_URL: cmVkaXM6Ly9yZWRpcy1zZXJ2aWNlOjYzNzk=

  # JWT Secrets (MUST be changed in production)
  # Generate: openssl rand -base64 32 | base64
  JWT_SECRET: Y2hhbmdlLW1lLWluLXByb2R1Y3Rpb24tcGxlYXNl

  # Cookie Secret (MUST be changed in production)
  # Generate: openssl rand -base64 32 | base64
  COOKIE_SECRET: Y2hhbmdlLW1lLWluLXByb2R1Y3Rpb24tcGxlYXNl

  # Azure AD Configuration
  # echo -n 'your-azure-tenant-id' | base64
  AZURE_AD_TENANT_ID: eW91ci10ZW5hbnQtaWQ=

  # echo -n 'your-azure-client-id' | base64
  AZURE_AD_CLIENT_ID: eW91ci1jbGllbnQtaWQ=

  # echo -n 'your-azure-client-secret' | base64
  AZURE_AD_CLIENT_SECRET: eW91ci1jbGllbnQtc2VjcmV0

  # SendGrid API Key
  # echo -n 'SG.your-sendgrid-api-key' | base64
  SENDGRID_API_KEY: U0cueW91ci1zZW5kZ3JpZC1hcGkta2V5

  # echo -n 'alerts@your-domain.com' | base64
  SENDGRID_FROM_EMAIL: YWxlcnRzQHlvdXItZG9tYWluLmNvbQ==

---
# TLS Secret for Ingress
# This should be created from your SSL certificate files
#
# Create from files:
# kubectl create secret tls openalert-tls \
#   --cert=path/to/fullchain.pem \
#   --key=path/to/privkey.pem \
#   -n openalert
#
# Or manually create:
apiVersion: v1
kind: Secret
metadata:
  name: openalert-tls
  namespace: openalert
type: kubernetes.io/tls
data:
  # Base64 encoded certificate
  tls.crt: LS0tLS1CRUdJTi... (your certificate here)

  # Base64 encoded private key
  tls.key: LS0tLS1CRUdJTi... (your private key here)
